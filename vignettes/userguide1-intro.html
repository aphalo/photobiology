<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Pedro J. Aphalo" />

<meta name="date" content="2020-01-06" />

<title>User Guide: 1 Introduction</title>






<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">User Guide: 1 Introduction</h1>
<h3 class="subtitle">Package ‘photobiology’ 0.9.30</h3>
<h4 class="author">Pedro J. Aphalo</h4>
<h4 class="date">2020-01-06</h4>


<div id="TOC">
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#naming-conventions">Naming conventions</a></li>
<li><a href="#example-data">Example data</a></li>
</ul>
</div>

<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>I have developed a set of packages to facilitate the calculation of many different quantities that can be derived from spectral irradiance data. The core package in this suite is called ‘<strong>photobiology</strong>’, and is the package described here. Other specialized packages for quantification of ultraviolet radiation and visible radiation (‘<strong>photobiologyWavebands</strong>’), plant photoreceptors and other plant photobiology related calculations (‘<strong>photobiologyPlants</strong>’), example spectral data for filters (‘<strong>photobiologyFilters</strong>’), lamps (‘<strong>photobiologyLamps</strong>’), LEDs (‘<strong>photobiologyLEDs</strong>’), sunlight (‘<strong>photobiologySun</strong>’), light sensors (‘<strong>photobiologySensors</strong>’) and for exchange of data in <em>foreign</em> formats (‘<strong>photobiologyInOut</strong>’) are part of the suite. One additional package, (‘<em>ggspectra</em>’), implements facilities for plotting spectral data by extending package ‘<strong>ggplot2</strong>’, providing both ggplot statistics in addition to specializations of <code>plot()</code>. All packages that can comply with the repository rules have been submitted or will in coming months be submitted to <strong>CRAN</strong> (Comprehensive R archive network). The packages not yet in <strong>CRAN</strong>, and development versions of those already in <strong>CRAN</strong>, are available through a CRAN-like repository at <a href="https://www.r4photobiology.info/R/" class="uri">https://www.r4photobiology.info/R/</a> while the Web site at <a href="https://www.r4photobiology.info" class="uri">https://www.r4photobiology.info</a> provides news about the development of the suite and some additional information. Each package has its own public Git repository at my Bitbucket account (<a href="https://bitbucket.org/aphalo/" class="uri">https://bitbucket.org/aphalo/</a>) from where the source code of the current and previous versions can be cloned or forked.</p>
<p>Package ‘<strong>photobiology</strong>’ provides two sets of functions for many operations: low-level functions programmed following a functional paradigm, and higher-level functions using an object-oriented paradigm. The former functions take as arguments numeric vectors and are sometimes faster. The later ones take <em>spectra</em> objects as arguments, are easier to use, and at least at the moment, to some extent slower. For everyday use <em>spectra</em> objects are recommended, but when maximum performance or flexibility in scripts is desired, the use of the functions taking numeric vectors as arguments may allow optimizations that are not possible with the object-oriented functions. The differences in performance becomes relevant only in extreme cases such as processing in a single script tenths of thousands of spectra. In the vignettes we emphasize the use of the object-oriented classes and methods.</p>
</div>
<div id="naming-conventions" class="section level2">
<h2>Naming conventions</h2>
<p>I have developed this package over several years, and even though I have tried to remain consistent, some inconsistencies have crept in. I have attempted to correct inconsistencies without breaking old code by providing synonyms for some functions.</p>
<p>In general I have used names in <em>snake case</em> for methods and functions, such as <code>source_spct()</code> and <em>dot case</em> for their arguments. There are two exceptions to this: the <code>as.</code> and <code>is.</code> methods which for consistency with base R, retain the dot: <code>as.source_spct()</code> and <code>ìs.source_spct()</code>. There are still some functions and methods whose names are in <em>camel case</em>: these are mostly accessors and setters of metadata attributes such as <code>setWhatMeasured()</code> and <code>getWhatMeasured()</code>, in which case synonyms <code>what_measured&lt;-()</code> and <code>what_measured()</code> are now provided with a syntax that parallels that of R’s <code>comment&lt;-()</code>, <code>comment()</code>, and similar methods for other attributes. Names of attributes themselves use dots, while classes use snake case as functions do, allowing consistency between class names and their constructor functions. There is an additional twist: functions named like <code>clip_wl()</code> act on the wavelengths (“wl”) modifying them, while those named like <code>wl_range()</code> report on the properties of the wavelengths.</p>
<p>In examples we use variable names ending in <code>.spct</code> for spectra, ending in <code>.mspct</code> for collections of spectra and ending in <code>.tb</code> for tibbles. In most cases the root of the variable names use snake case and may have a tag at the end separated with a dot. In the case of variable names used in examples I have been less strict about conventions than for the objects exported by the package.</p>
<p>None of these naming conventions are enforced for user defined objects and classes; these conventions are simply those I have tried to follow while developing this package as well as other packages in the r4photobiology suite.</p>
</div>
<div id="example-data" class="section level2">
<h2>Example data</h2>
<p>Data for several spectra are included in this package for use in examples and vignettes, and in testing (Tables 1 and 2). Other packages in the ‘<strong>r4photobiology suite</strong>’ provide many additional data sets.</p>
<hr>
<p><strong>Table 1. Data sets included in the package: spectra.</strong> The CIE standard illuminant data in this package are normalized to one at <span class="math inline">\(\lambda = 560\,\)</span>nm, while in the CIE standard they are normalized to 100 at the same wavelength. See documentation for each data object for details and data sources.</p>
<table>
<colgroup>
<col width="16%"></col>
<col width="14%"></col>
<col width="19%"></col>
<col width="50%"></col>
</colgroup>
<thead>
<tr class="header">
<th align="left">Object</th>
<th align="left">class</th>
<th align="left">units</th>
<th align="left">data description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>sun.spct</code></td>
<td align="left"><code>source_spct</code></td>
<td align="left"><span class="math inline">\(W\,m^{-2}\,nm^{-1}\)</span></td>
<td align="left">solar spectral irradiance</td>
</tr>
<tr class="even">
<td align="left"><code>sun.daily.spct</code></td>
<td align="left"><code>source_spct</code></td>
<td align="left"><span class="math inline">\(J\,m^{-2}\,d^{-1}\,nm^{-1}\)</span></td>
<td align="left">solar spectral exposure</td>
</tr>
<tr class="odd">
<td align="left"><code>sun.data</code></td>
<td align="left"><code>data.frame</code></td>
<td align="left"><span class="math inline">\(W\,m^{-2}\,nm^{-1}\)</span></td>
<td align="left">solar spectral irradiance</td>
</tr>
<tr class="even">
<td align="left"><code>sun.daily.data</code></td>
<td align="left"><code>data.frame</code></td>
<td align="left"><span class="math inline">\(J\,m^{-2}\,d^{-1}\,nm^{-1}\)</span></td>
<td align="left">solar spectral exposure</td>
</tr>
<tr class="odd">
<td align="left"><code>D65.illuminant.spct</code></td>
<td align="left"><code>source_spct</code></td>
<td align="left">(norm. 560 nm)</td>
<td align="left">CIE standard</td>
</tr>
<tr class="even">
<td align="left"><code>A.illuminant.spct</code></td>
<td align="left"><code>source_spct</code></td>
<td align="left">(norm. 560 nm)</td>
<td align="left">CIE standard</td>
</tr>
<tr class="odd">
<td align="left"><code>clear.spct</code></td>
<td align="left"><code>filter_spct</code></td>
<td align="left">fraction</td>
<td align="left">ideal transparent filter</td>
</tr>
<tr class="even">
<td align="left"><code>opaque.spct</code></td>
<td align="left"><code>filter_spct</code></td>
<td align="left">fraction</td>
<td align="left">ideal opaque filter</td>
</tr>
<tr class="odd">
<td align="left"><code>polyester.spct</code></td>
<td align="left"><code>filter_spct</code></td>
<td align="left">fraction</td>
<td align="left">plastic film</td>
</tr>
<tr class="even">
<td align="left"><code>yellow_gel.spct</code></td>
<td align="left"><code>filter_spct</code></td>
<td align="left">fraction</td>
<td align="left">theatrical <em>gel</em> filter</td>
</tr>
<tr class="odd">
<td align="left"><code>green_leaf.spct</code></td>
<td align="left"><code>reflector_spct</code></td>
<td align="left">fraction</td>
<td align="left">a birch leaf</td>
</tr>
<tr class="even">
<td align="left"><code>clear_body.spct</code></td>
<td align="left"><code>object_spct</code></td>
<td align="left">fraction</td>
<td align="left">ideal transparent body</td>
</tr>
<tr class="odd">
<td align="left"><code>black_body.spct</code></td>
<td align="left"><code>object_spct</code></td>
<td align="left">fraction</td>
<td align="left">ideal black body</td>
</tr>
<tr class="even">
<td align="left"><code>white_body.spct</code></td>
<td align="left"><code>object_spct</code></td>
<td align="left">fraction</td>
<td align="left">ideal white body</td>
</tr>
<tr class="odd">
<td align="left"><code>Ler_leaf.spct</code></td>
<td align="left"><code>object_spct</code></td>
<td align="left">fraction</td>
<td align="left">Arabidopsis leaf</td>
</tr>
<tr class="even">
<td align="left"><code>Ler_leaf_trns.spct</code></td>
<td align="left"><code>filter_spct</code></td>
<td align="left">fraction</td>
<td align="left">Arabidopsis leaf (T total)</td>
</tr>
<tr class="odd">
<td align="left"><code>Ler_leaf_trns_i.spct</code></td>
<td align="left"><code>filter_spct</code></td>
<td align="left">fraction</td>
<td align="left">Arabidopsis leaf (T internal)</td>
</tr>
<tr class="even">
<td align="left"><code>Ler_leaf_rflt.spct</code></td>
<td align="left"><code>reflector_spct</code></td>
<td align="left">fraction</td>
<td align="left">Arabidopsis leaf (R total)</td>
</tr>
<tr class="odd">
<td align="left"><code>photodiode.spct</code></td>
<td align="left"><code>response_spct</code></td>
<td align="left"><span class="math inline">\(A / W\)</span></td>
<td align="left">typical Si photodiode</td>
</tr>
<tr class="even">
<td align="left"><code>ccd.spct</code></td>
<td align="left"><code>response_spct</code></td>
<td align="left"><span class="math inline">\(A / W\)</span></td>
<td align="left">typical CCD array</td>
</tr>
<tr class="odd">
<td align="left"><code>white_led.raw_spct</code></td>
<td align="left"><code>raw_spct</code></td>
<td align="left">counts</td>
<td align="left">example raw detector counts data</td>
</tr>
<tr class="even">
<td align="left"><code>white_led.cps_spct</code></td>
<td align="left"><code>cps_spct</code></td>
<td align="left">counts / s</td>
<td align="left">example detector counts data</td>
</tr>
<tr class="odd">
<td align="left"><code>white_led.source_spct</code></td>
<td align="left"><code>source_spct</code></td>
<td align="left"><span class="math inline">\(W\,m^{-2}\,nm^{-1}\)</span></td>
<td align="left">spectral irradiance</td>
</tr>
<tr class="even">
<td align="left"><code>filter_cps.mspct</code></td>
<td align="left"><code>cps_mspct</code></td>
<td align="left"><span class="math inline">\(\mathrm{counts} / s\)</span></td>
<td align="left">example detector counts data</td>
</tr>
</tbody>
</table>
<hr>
<hr>
<p><strong>Table 2. Data sets included in the package: chromaticity data.</strong> See documentation for each data object for details and data sources.</p>
<table>
<thead>
<tr class="header">
<th align="left">Object</th>
<th align="left">class</th>
<th align="left">data description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>ciexyzCC2.spct</code></td>
<td align="left"><code>chroma_spct</code></td>
<td align="left">human chromaticity coordinates <span class="math inline">\(2^\circ\)</span></td>
</tr>
<tr class="even">
<td align="left"><code>ciexyzCC10.spct</code></td>
<td align="left"><code>chroma_spct</code></td>
<td align="left">human chromaticity coordinates <span class="math inline">\(10^\circ\)</span></td>
</tr>
<tr class="odd">
<td align="left"><code>ciexyzCMF2.spct</code></td>
<td align="left"><code>chroma_spct</code></td>
<td align="left">human colour matching function <span class="math inline">\(2^\circ\)</span></td>
</tr>
<tr class="even">
<td align="left"><code>ciexyzCMF10.spct</code></td>
<td align="left"><code>chroma_spct</code></td>
<td align="left">human colour matching function <span class="math inline">\(10^\circ\)</span></td>
</tr>
<tr class="odd">
<td align="left"><code>ciev2.spct</code></td>
<td align="left"><code>chroma_spct</code></td>
<td align="left">human luminous efficiency <span class="math inline">\(2^\circ\)</span></td>
</tr>
<tr class="even">
<td align="left"><code>beesxyzCMF.spct</code></td>
<td align="left"><code>chroma_spct</code></td>
<td align="left">bee colour matching function</td>
</tr>
</tbody>
</table>
<hr>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>

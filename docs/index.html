<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Photobiological Calculations • photobiology</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><meta property="og:title" content="Photobiological Calculations">
<meta property="og:description" content="Definitions of classes, methods, operators and functions for use in
    photobiology and radiation meteorology and climatology. Calculation of
    effective (weighted) and not-weighted irradiances/doses, fluence rates,
    transmittance, reflectance, absorptance, absorbance and diverse
    ratios and other derived quantities from spectral data. Local maxima and
    minima. Conversion between energy- and photon-based units. Wavelength
    interpolation. Astronomical calculations related solar angles and day
    length. Colours and vision. This package is part of the
    'r4photobiology' suite, Aphalo P. J. (2015) &lt;doi:10.19232/uv4pb.2015.1.14&gt;.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">photobiology</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.9.20</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/userguide1-intro.html">User Guide: 1 Introduction</a>
    </li>
    <li>
      <a href="articles/userguide2-radiation.html">User Guide: 2 Radiation</a>
    </li>
    <li>
      <a href="articles/userguide3-astronomy.html">User Guide: 3 Astronomy</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<div id="photobiology" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#photobiology" class="anchor"></a>photobiology</h1></div>

<p>Package ‘<strong>photobiology</strong>’ defines a system of classes for storing spectral data and accompanying metadata. For each of these classes specialised summary methods, maths operators and functions are provided. In addition, classes for storing collections of objects of the classes for individual spectra are defined as well as ‘apply’ functions. Extraction and replacement operators are also implemented. Functions for calculation of the position of the sun, times of sunrise and sunset, day length and night length are also provided.</p>
<p>The package supports storage and manipulation of data for radiation quantities and for optical properties of objects.</p>
<p>This package is the core of a suite of R packages for photobiological calculations described at the <a href="http://www.r4photobiology.info">r4photobiology</a> web site.</p>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>This first basic example shows you how to calculate solar irradiance in W/m2 below a filter. We use a measured solar spectrum and a measured filter transmission spectrum.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(photobiology)
<span class="kw"><a href="reference/e_irrad.html">e_irrad</a></span>(sun.spct <span class="op">*</span><span class="st"> </span>yellow_gel.spct)
<span class="co">#&gt;    Total </span>
<span class="co">#&gt; 146.5044 </span>
<span class="co">#&gt; attr(,"time.unit")</span>
<span class="co">#&gt; [1] "second"</span>
<span class="co">#&gt; attr(,"radiation.unit")</span>
<span class="co">#&gt; [1] "energy irradiance total"</span></code></pre></div>
<p>The second basic example shows some simple astronomical calculations for the sun.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">geocode &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">lon =</span> <span class="dv">0</span>, <span class="dt">lat =</span> <span class="dv">55</span>)
date &lt;-<span class="st"> </span>lubridate<span class="op">::</span><span class="kw"><a href="http://lubridate.tidyverse.org/reference/today.html">today</a></span>(<span class="dt">tzone =</span> <span class="st">"UTC"</span>)
<span class="kw"><a href="reference/day_night.html">sunrise_time</a></span>(date, <span class="dt">tz =</span> <span class="st">"UTC"</span>, <span class="dt">geocode =</span> geocode)
<span class="co">#&gt; [1] "2018-04-02 05:28:08 UTC"</span>
<span class="kw"><a href="reference/day_night.html">day_length</a></span>(date, <span class="dt">tz =</span> <span class="st">"UTC"</span>, <span class="dt">geocode =</span> geocode)
<span class="co">#&gt; [1] 13.17787</span></code></pre></div>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Installation of the most recent stable version from CRAN:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">"photobiology"</span>)</code></pre></div>
<p>Installation of the current unstable version from Bitbucket:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># install.packages("devtools")</span>
devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_bitbucket">install_bitbucket</a></span>(<span class="st">"aphalo/photobiology"</span>)</code></pre></div>
</div>
<div id="documentation" class="section level2">
<h2 class="hasAnchor">
<a href="#documentation" class="anchor"></a>Documentation</h2>
<p>HTML documentation is available at (<a href="http://docs.r4photobiology.info/photobiology/" class="uri">http://docs.r4photobiology.info/photobiology/</a>), including a <em>User Guide</em>.</p>
<p>News on updates to the different packages of the ‘r4photobiology’ suite are regularly posted at (<a href="http://www.r4photobiology.info/" class="uri">http://www.r4photobiology.info/</a>).</p>
<p>Two articles introduce the basic ideas behind the design of the suite and its use: Aphalo P. J. (2015) (<a href="https://doi.org/10.19232/uv4pb.2015.1.14" class="uri">https://doi.org/10.19232/uv4pb.2015.1.14</a>) and Aphalo P. J. (2016) (<a href="https://doi.org/10.19232/uv4pb.2016.1.15" class="uri">https://doi.org/10.19232/uv4pb.2016.1.15</a>).</p>
<p>A book is under preparation, and the draft is currently available at (<a href="https://leanpub.com/r4photobiology/" class="uri">https://leanpub.com/r4photobiology/</a>).</p>
<p>A handbook written before the suite was developed contains useful information on the quantification and manipulation of ultraviolet and visible radiation: Aphalo, P. J., Albert, A., Björn, L. O., McLeod, A. R., Robson, T. M., &amp; Rosenqvist, E. (Eds.) (2012) Beyond the Visible: A handbook of best practice in plant UV photobiology (1st ed., p. xxx + 174). Helsinki: University of Helsinki, Department of Biosciences, Division of Plant Biology. ISBN 978-952-10-8363-1 (PDF), 978-952-10-8362-4 (paperback). PDF file available from (<a href="http://hdl.handle.net/10138/37558" class="uri">http://hdl.handle.net/10138/37558</a>).</p>
</div>
<div id="contributing" class="section level2">
<h2 class="hasAnchor">
<a href="#contributing" class="anchor"></a>Contributing</h2>
<p>Pull requests, bug reports, and feature requests are welcome at (<a href="http://bitbucket.org/aphalo/photobiology" class="uri">http://bitbucket.org/aphalo/photobiology</a>).</p>
</div>
<div id="citation" class="section level2">
<h2 class="hasAnchor">
<a href="#citation" class="anchor"></a>Citation</h2>
<p>If you use this package to produce scientific or commercial publications, please cite according to:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">citation</span>(<span class="st">"photobiology"</span>)
<span class="co">#&gt; </span>
<span class="co">#&gt; To cite package 'photobiology' in publications, please use:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   Aphalo, Pedro J. (2015) The r4photobiology suite. UV4Plants</span>
<span class="co">#&gt;   Bulletin, 2015:1, 21-29. DOI:10.19232/uv4pb.2015.1.14</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; A BibTeX entry for LaTeX users is</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   @Article{,</span>
<span class="co">#&gt;     author = {Pedro J. Aphalo},</span>
<span class="co">#&gt;     title = {The r4photobiology suite},</span>
<span class="co">#&gt;     journal = {UV4Plants Bulletin},</span>
<span class="co">#&gt;     volume = {2015},</span>
<span class="co">#&gt;     number = {1},</span>
<span class="co">#&gt;     pages = {21-29},</span>
<span class="co">#&gt;     year = {2015},</span>
<span class="co">#&gt;     doi = {10.19232/uv4pb.2015.1.14},</span>
<span class="co">#&gt;   }</span></code></pre></div>
</div>
<div id="license" class="section level2">
<h2 class="hasAnchor">
<a href="#license" class="anchor"></a>License</h2>
<p>© 2012-2018 Pedro J. Aphalo (<a href="mailto:pedro.aphalo@helsinki.fi">pedro.aphalo@helsinki.fi</a>). Released under the GPL, version 2 or greater. This software carries no warranty of any kind.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=photobiology">https://​cloud.r-project.org/​package=photobiology</a>
</li>
<li>Report a bug at <br><a href="https://bitbucket.org/aphalo/photobiology/issues">https://​bitbucket.org/​aphalo/​photobiology/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>GPL (&gt;= 2)</li>
</ul>
</div>
<div class="citation">
<h2>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing photobiology</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Pedro J. Aphalo <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/https://orcid.org/0000-0003-3385-972X" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" height="16"></a> </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://cran.r-project.org/package=photobiology"><img src="http://www.r-pkg.org/badges/version-last-release/photobiology"></a></li>
<li><a href="https://cran.r-project.org/package=photobiology"><img src="http://cranlogs.r-pkg.org/badges/photobiology"></a></li>
<li><a href="https://cran.r-project.org/package=photobiology"><img src="http://cranlogs.r-pkg.org/badges/grand-total/photobiology"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Pedro J. Aphalo.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>

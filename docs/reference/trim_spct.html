<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Trim (or expand) head and/or tail of a spectrum — trim_spct â€¢ photobiology</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">photobiology</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/userguide1-intro.html">User Guide: 1 Introduction</a>
    </li>
    <li>
      <a href="../articles/userguide2-radiation.html">User Guide: 2 Radiation</a>
    </li>
    <li>
      <a href="../articles/userguide3-astronomy.html">User Guide: 3 Astronomy</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Trim (or expand) head and/or tail of a spectrum</h1>
    </div>

    
    <p>Trim head and tail of a spectrum based on wavelength limits, interpolating
the values at the boundaries of the range. Trimming is needed for example to
remove short wavelength noise when the measured spectrum extends beyond the
known emission spectrum of the measured light source. Occasionally one may
want also to expand the wavelength range.</p>
    

    <pre class="usage"><span class='fu'>trim_spct</span>(<span class='no'>spct</span>, <span class='kw'>range</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>low.limit</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>high.limit</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>use.hinges</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>fill</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>byref</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fu'>getOption</span>(<span class='st'>"photobiology.verbose"</span>, <span class='kw'>default</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>))

<span class='fu'>trim_mspct</span>(<span class='no'>mspct</span>, <span class='kw'>range</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>low.limit</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>high.limit</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>use.hinges</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>fill</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>byref</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fu'>getOption</span>(<span class='st'>"photobiology.verbose"</span>, <span class='kw'>default</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>),
  <span class='kw'>.parallel</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>.paropts</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)

<span class='fu'>trim2overlap</span>(<span class='no'>mspct</span>, <span class='kw'>use.hinges</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fu'>getOption</span>(<span class='st'>"photobiology.verbose"</span>, <span class='kw'>default</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>),
  <span class='kw'>.parallel</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>.paropts</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)

<span class='fu'>extend2extremes</span>(<span class='no'>mspct</span>, <span class='kw'>use.hinges</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>fill</span> <span class='kw'>=</span> <span class='fl'>NA</span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fu'>getOption</span>(<span class='st'>"photobiology.verbose"</span>, <span class='kw'>default</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>),
  <span class='kw'>.parallel</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>.paropts</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>spct</th>
      <td><p>an object of class "generic_spct".</p></td>
    </tr>
    <tr>
      <th>range</th>
      <td><p>a numeric vector of length two, or any other object for which
method range() will return a numeric vector of length two.</p></td>
    </tr>
    <tr>
      <th>low.limit</th>
      <td><p>shortest wavelength to be kept (defaults to shortest
w.length value).</p></td>
    </tr>
    <tr>
      <th>high.limit</th>
      <td><p>longest wavelength to be kept (defaults to longest w.length
value).</p></td>
    </tr>
    <tr>
      <th>use.hinges</th>
      <td><p>logical Flag indicating whether to insert "hinges" into the
spectral data before integration so as to reduce interpolation errors at
the boundaries of the wavebands.</p></td>
    </tr>
    <tr>
      <th>fill</th>
      <td><p>if fill==NULL then tails are deleted, otherwise tails or s.irrad
are filled with the value of fill.</p></td>
    </tr>
    <tr>
      <th>byref</th>
      <td><p>logical indicating if new object will be created by reference or
by copy of spct.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>logical.</p></td>
    </tr>
    <tr>
      <th>mspct</th>
      <td><p>an object of class "generic_mspct"</p></td>
    </tr>
    <tr>
      <th>.parallel</th>
      <td><p>if TRUE, apply function in parallel, using parallel backend
provided by foreach</p></td>
    </tr>
    <tr>
      <th>.paropts</th>
      <td><p>a list of additional options passed into the foreach function
when parallel computation is enabled. This is important if (for example)
your code relies on external data or packages: use the .export and
.packages arguments to supply them so that all cluster nodes have the
correct environment set up for computing.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a spectrum of same class as input with its tails trimmed or expanded.</p>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>When expanding an spectrum, if fill==NULL, then expansion is not
  performed. Range can be "waveband" object, a numeric vector or a list of
  numeric vectors, or any other user-defined or built-in object for which
  <code><a href='range.html'>range()</a></code> returns a numeric vector of length two, that can be
  interpreted as wavelengths expressed in nm.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p>Other trim functions: <code><a href='clip_wl.html'>clip_wl</a></code>,
  <code><a href='trim_waveband.html'>trim_waveband</a></code>, <code><a href='trim_wl.html'>trim_wl</a></code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>trim_spct</span>(<span class='no'>sun.spct</span>, <span class='kw'>low.limit</span><span class='kw'>=</span><span class='fl'>300</span>)</div><div class='output co'>#&gt; Object: source_spct [501 x 3]
#&gt; Wavelength range 300 to 800 nm, step 1 nm 
#&gt; Label: sunlight, simulated 
#&gt; Measured on 2010-06-22 09:51:00 UTC 
#&gt; Measured at 60.2091078 N, 24.9647355 E 
#&gt; Time unit 1s
#&gt; 
#&gt; # A tibble: 501 x 3
#&gt;    w.length s.e.irrad     s.q.irrad
#&gt;  *    &lt;dbl&gt;     &lt;dbl&gt;         &lt;dbl&gt;
#&gt;  1     300.   0.00126 0.00000000317
#&gt;  2     301.   0.00262 0.00000000660
#&gt;  3     302.   0.00392 0.00000000990
#&gt;  4     303.   0.00897 0.0000000227 
#&gt;  5     304.   0.0117  0.0000000296 
#&gt;  6     305.   0.0180  0.0000000459 
#&gt;  7     306.   0.0208  0.0000000531 
#&gt;  8     307.   0.0306  0.0000000785 
#&gt;  9     308.   0.0400  0.000000103  
#&gt; 10     309.   0.0416  0.000000108  
#&gt; # ... with 491 more rows</div><div class='input'><span class='fu'>trim_spct</span>(<span class='no'>sun.spct</span>, <span class='kw'>low.limit</span><span class='kw'>=</span><span class='fl'>300</span>, <span class='kw'>fill</span><span class='kw'>=</span><span class='kw'>NULL</span>)</div><div class='output co'>#&gt; Object: source_spct [501 x 3]
#&gt; Wavelength range 300 to 800 nm, step 1 nm 
#&gt; Label: sunlight, simulated 
#&gt; Measured on 2010-06-22 09:51:00 UTC 
#&gt; Measured at 60.2091078 N, 24.9647355 E 
#&gt; Time unit 1s
#&gt; 
#&gt; # A tibble: 501 x 3
#&gt;    w.length s.e.irrad     s.q.irrad
#&gt;  *    &lt;dbl&gt;     &lt;dbl&gt;         &lt;dbl&gt;
#&gt;  1     300.   0.00126 0.00000000317
#&gt;  2     301.   0.00262 0.00000000660
#&gt;  3     302.   0.00392 0.00000000990
#&gt;  4     303.   0.00897 0.0000000227 
#&gt;  5     304.   0.0117  0.0000000296 
#&gt;  6     305.   0.0180  0.0000000459 
#&gt;  7     306.   0.0208  0.0000000531 
#&gt;  8     307.   0.0306  0.0000000785 
#&gt;  9     308.   0.0400  0.000000103  
#&gt; 10     309.   0.0416  0.000000108  
#&gt; # ... with 491 more rows</div><div class='input'><span class='fu'>trim_spct</span>(<span class='no'>sun.spct</span>, <span class='kw'>low.limit</span><span class='kw'>=</span><span class='fl'>300</span>, <span class='kw'>fill</span><span class='kw'>=</span><span class='fl'>NA</span>)</div><div class='output co'>#&gt; Object: source_spct [523 x 3]
#&gt; Wavelength range 280 to 800 nm, step 1.023182e-12 to 1 nm 
#&gt; Label: sunlight, simulated 
#&gt; Measured on 2010-06-22 09:51:00 UTC 
#&gt; Measured at 60.2091078 N, 24.9647355 E 
#&gt; Time unit 1s
#&gt; 
#&gt; # A tibble: 523 x 3
#&gt;    w.length s.e.irrad s.q.irrad
#&gt;       &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
#&gt;  1     280.        NA        NA
#&gt;  2     281.        NA        NA
#&gt;  3     282.        NA        NA
#&gt;  4     283.        NA        NA
#&gt;  5     284.        NA        NA
#&gt;  6     285.        NA        NA
#&gt;  7     286.        NA        NA
#&gt;  8     286.        NA        NA
#&gt;  9     287.        NA        NA
#&gt; 10     288.        NA        NA
#&gt; # ... with 513 more rows</div><div class='input'><span class='fu'>trim_spct</span>(<span class='no'>sun.spct</span>, <span class='kw'>low.limit</span><span class='kw'>=</span><span class='fl'>300</span>, <span class='kw'>fill</span><span class='kw'>=</span><span class='fl'>0.0</span>)</div><div class='output co'>#&gt; Object: source_spct [523 x 3]
#&gt; Wavelength range 280 to 800 nm, step 1.023182e-12 to 1 nm 
#&gt; Label: sunlight, simulated 
#&gt; Measured on 2010-06-22 09:51:00 UTC 
#&gt; Measured at 60.2091078 N, 24.9647355 E 
#&gt; Time unit 1s
#&gt; 
#&gt; # A tibble: 523 x 3
#&gt;    w.length s.e.irrad s.q.irrad
#&gt;       &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
#&gt;  1     280.        0.        0.
#&gt;  2     281.        0.        0.
#&gt;  3     282.        0.        0.
#&gt;  4     283.        0.        0.
#&gt;  5     284.        0.        0.
#&gt;  6     285.        0.        0.
#&gt;  7     286.        0.        0.
#&gt;  8     286.        0.        0.
#&gt;  9     287.        0.        0.
#&gt; 10     288.        0.        0.
#&gt; # ... with 513 more rows</div><div class='input'><span class='fu'>trim_spct</span>(<span class='no'>sun.spct</span>, <span class='kw'>range</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>300</span>, <span class='fl'>400</span>))</div><div class='output co'>#&gt; Object: source_spct [101 x 3]
#&gt; Wavelength range 300 to 400 nm, step 1 nm 
#&gt; Label: sunlight, simulated 
#&gt; Measured on 2010-06-22 09:51:00 UTC 
#&gt; Measured at 60.2091078 N, 24.9647355 E 
#&gt; Time unit 1s
#&gt; 
#&gt; # A tibble: 101 x 3
#&gt;    w.length s.e.irrad     s.q.irrad
#&gt;  *    &lt;dbl&gt;     &lt;dbl&gt;         &lt;dbl&gt;
#&gt;  1     300.   0.00126 0.00000000317
#&gt;  2     301.   0.00262 0.00000000660
#&gt;  3     302.   0.00392 0.00000000990
#&gt;  4     303.   0.00897 0.0000000227 
#&gt;  5     304.   0.0117  0.0000000296 
#&gt;  6     305.   0.0180  0.0000000459 
#&gt;  7     306.   0.0208  0.0000000531 
#&gt;  8     307.   0.0306  0.0000000785 
#&gt;  9     308.   0.0400  0.000000103  
#&gt; 10     309.   0.0416  0.000000108  
#&gt; # ... with 91 more rows</div><div class='input'><span class='fu'>trim_spct</span>(<span class='no'>sun.spct</span>, <span class='kw'>range</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>300</span>, <span class='fl'>NA</span>))</div><div class='output co'>#&gt; Object: source_spct [501 x 3]
#&gt; Wavelength range 300 to 800 nm, step 1 nm 
#&gt; Label: sunlight, simulated 
#&gt; Measured on 2010-06-22 09:51:00 UTC 
#&gt; Measured at 60.2091078 N, 24.9647355 E 
#&gt; Time unit 1s
#&gt; 
#&gt; # A tibble: 501 x 3
#&gt;    w.length s.e.irrad     s.q.irrad
#&gt;  *    &lt;dbl&gt;     &lt;dbl&gt;         &lt;dbl&gt;
#&gt;  1     300.   0.00126 0.00000000317
#&gt;  2     301.   0.00262 0.00000000660
#&gt;  3     302.   0.00392 0.00000000990
#&gt;  4     303.   0.00897 0.0000000227 
#&gt;  5     304.   0.0117  0.0000000296 
#&gt;  6     305.   0.0180  0.0000000459 
#&gt;  7     306.   0.0208  0.0000000531 
#&gt;  8     307.   0.0306  0.0000000785 
#&gt;  9     308.   0.0400  0.000000103  
#&gt; 10     309.   0.0416  0.000000108  
#&gt; # ... with 491 more rows</div><div class='input'><span class='fu'>trim_spct</span>(<span class='no'>sun.spct</span>, <span class='kw'>range</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>NA</span>, <span class='fl'>400</span>))</div><div class='output co'>#&gt; Object: source_spct [122 x 3]
#&gt; Wavelength range 280 to 400 nm, step 0.9230769 to 1 nm 
#&gt; Label: sunlight, simulated 
#&gt; Measured on 2010-06-22 09:51:00 UTC 
#&gt; Measured at 60.2091078 N, 24.9647355 E 
#&gt; Time unit 1s
#&gt; 
#&gt; # A tibble: 122 x 3
#&gt;    w.length s.e.irrad s.q.irrad
#&gt;  *    &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
#&gt;  1     280.        0.        0.
#&gt;  2     281.        0.        0.
#&gt;  3     282.        0.        0.
#&gt;  4     283.        0.        0.
#&gt;  5     284.        0.        0.
#&gt;  6     285.        0.        0.
#&gt;  7     286.        0.        0.
#&gt;  8     286.        0.        0.
#&gt;  9     287.        0.        0.
#&gt; 10     288.        0.        0.
#&gt; # ... with 112 more rows</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#note">Note</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Pedro J. Aphalo.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>

<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Photon irradiance — q_irrad â€¢ photobiology</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">photobiology</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/userguide1-intro.html">User Guide: 1 Introduction</a>
    </li>
    <li>
      <a href="../articles/userguide2-radiation.html">User Guide: 2 Radiation</a>
    </li>
    <li>
      <a href="../articles/userguide3-astronomy.html">User Guide: 3 Astronomy</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Photon irradiance</h1>
    </div>

    
    <p>Photon irradiance (i.e. quantum irradiance) for one or more wavebands of a
light source spectrum.</p>
    

    <pre class="usage"><span class='fu'>q_irrad</span>(<span class='no'>spct</span>, <span class='no'>w.band</span>, <span class='no'>quantity</span>, <span class='no'>time.unit</span>, <span class='no'>wb.trim</span>, <span class='no'>use.cached.mult</span>, <span class='no'>use.hinges</span>,
  <span class='no'>allow.scaled</span>, <span class='no'>...</span>)

<span class='co'># S3 method for default</span>
<span class='fu'>q_irrad</span>(<span class='no'>spct</span>, <span class='no'>w.band</span>, <span class='no'>quantity</span>, <span class='no'>time.unit</span>, <span class='no'>wb.trim</span>,
  <span class='no'>use.cached.mult</span>, <span class='no'>use.hinges</span>, <span class='no'>allow.scaled</span>, <span class='no'>...</span>)

<span class='co'># S3 method for source_spct</span>
<span class='fu'>q_irrad</span>(<span class='no'>spct</span>, <span class='kw'>w.band</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>quantity</span> <span class='kw'>=</span> <span class='st'>"total"</span>,
  <span class='kw'>time.unit</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>wb.trim</span> <span class='kw'>=</span> <span class='fu'>getOption</span>(<span class='st'>"photobiology.waveband.trim"</span>,
  <span class='kw'>default</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>), <span class='kw'>use.cached.mult</span> <span class='kw'>=</span> <span class='fu'>getOption</span>(<span class='st'>"photobiology.use.cached.mult"</span>,
  <span class='kw'>default</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>), <span class='kw'>use.hinges</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>allow.scaled</span> <span class='kw'>=</span> !<span class='no'>quantity</span> <span class='kw'>%in%</span>
  <span class='fu'>c</span>(<span class='st'>"average"</span>, <span class='st'>"mean"</span>, <span class='st'>"total"</span>), <span class='no'>...</span>)

<span class='co'># S3 method for source_mspct</span>
<span class='fu'>q_irrad</span>(<span class='no'>spct</span>, <span class='kw'>w.band</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>quantity</span> <span class='kw'>=</span> <span class='st'>"total"</span>,
  <span class='kw'>time.unit</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>wb.trim</span> <span class='kw'>=</span> <span class='fu'>getOption</span>(<span class='st'>"photobiology.waveband.trim"</span>,
  <span class='kw'>default</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>), <span class='kw'>use.cached.mult</span> <span class='kw'>=</span> <span class='fu'>getOption</span>(<span class='st'>"photobiology.use.cached.mult"</span>,
  <span class='kw'>default</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>), <span class='kw'>use.hinges</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>allow.scaled</span> <span class='kw'>=</span> !<span class='no'>quantity</span> <span class='kw'>%in%</span>
  <span class='fu'>c</span>(<span class='st'>"average"</span>, <span class='st'>"mean"</span>, <span class='st'>"total"</span>), <span class='no'>...</span>, <span class='kw'>attr2tb</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>idx</span> <span class='kw'>=</span> !<span class='fu'>is.null</span>(<span class='fu'>names</span>(<span class='no'>spct</span>)), <span class='kw'>.parallel</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>.paropts</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>spct</th>
      <td><p>an R object.</p></td>
    </tr>
    <tr>
      <th>w.band</th>
      <td><p>a list of <code>waveband</code> objects or a <code>waveband</code> object.</p></td>
    </tr>
    <tr>
      <th>quantity</th>
      <td><p>character string One of "total", "average" or "mean",
"contribution", "contribution.pc", "relative" or "relative.pc".</p></td>
    </tr>
    <tr>
      <th>time.unit</th>
      <td><p>character or lubridate::duration object.</p></td>
    </tr>
    <tr>
      <th>wb.trim</th>
      <td><p>logical if TRUE wavebands crossing spectral data boundaries
are trimmed, if FALSE, they are discarded.</p></td>
    </tr>
    <tr>
      <th>use.cached.mult</th>
      <td><p>logical indicating whether multiplier values should be
cached between calls.</p></td>
    </tr>
    <tr>
      <th>use.hinges</th>
      <td><p>logical Flag indicating whether to insert "hinges" into the
spectral data before integration so as to reduce interpolation errors at
the boundaries of the wavebands.</p></td>
    </tr>
    <tr>
      <th>allow.scaled</th>
      <td><p>logical indicating whether scaled or normalized spectra
as argument to spct are flagged as an error.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>other arguments (possibly ignored).</p></td>
    </tr>
    <tr>
      <th>attr2tb</th>
      <td><p>character vector, see <code><a href='add_attr2tb.html'>add_attr2tb</a></code> for the syntax for <code>attr2tb</code> passed as is to formal parameter <code>col.names</code>.</p></td>
    </tr>
    <tr>
      <th>idx</th>
      <td><p>logical whether to add a column with the names of the elements of
spct</p></td>
    </tr>
    <tr>
      <th>.parallel</th>
      <td><p>if TRUE, apply function in parallel, using parallel backend
provided by foreach</p></td>
    </tr>
    <tr>
      <th>.paropts</th>
      <td><p>a list of additional options passed into the foreach function
when parallel computation is enabled. This is important if (for example)
your code relies on external data or packages: use the .export and
.packages arguments to supply them so that all cluster nodes have the
correct environment set up for computing.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A named <code>numeric</code> vector in the case of methods for individual
  spectra, with one value for each <code>waveband</code> passed to parameter
  <code>w.band</code>. A <code>data.frame</code> in the case of collections of spectra,
  containing one column for each <code>waveband</code> object, an index column with
  the names of the spectra, and optionally additional columns with metadata
  values retrieved from the attributes of the member spectra.</p>
<p>By default values are only integrated, but depending on the argument passed
  to parameter <code>quantity</code> they can be re-expressed as relative fractions
  or percentages. In the case of vector output, <code>names</code> attribute is set
  to the name of the corresponding waveband unless a named list is supplied
  in which case the names of the list members are used. The time.unit
  attribute is copied from the spectrum object to the output. Units are as
  follows: If time.unit is second, [W m-2 nm-1] -&gt; [mol s-1 m-2] If time.unit
  is day, [J d-1 m-2 nm-1] -&gt; [mol d-1 m-2]</p>
    
    <h2 class="hasAnchor" id="methods-by-class-"><a class="anchor" href="#methods-by-class-"></a>Methods (by class)</h2>

    <ul>
<li><p><code>default</code>: Default for generic function</p></li>
<li><p><code>source_spct</code>: Calculates photon irradiance from a <code>source_spct</code>
object.</p></li>
<li><p><code>source_mspct</code>: Calculates photon (quantum) irradiance from a
<code>source_mspct</code> object.</p></li>
</ul>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>The last two parameters control speed optimizations. The defaults
  should be suitable in most cases. If you will use repeatedly the same SWFs
  on many spectra measured at exactly the same wavelengths you may obtain
  some speed up by setting <code>use.cached.mult=TRUE</code>. However, be aware
  that you are responsible for ensuring that the wavelengths are the same in
  each call, as the only test done is for the length of the <code>w.length</code>
  vector.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p>Other irradiance functions: <code><a href='e_fluence.html'>e_fluence</a></code>,
  <code><a href='e_irrad.html'>e_irrad</a></code>, <code><a href='fluence.html'>fluence</a></code>,
  <code><a href='irrad.html'>irrad</a></code>, <code><a href='q_fluence.html'>q_fluence</a></code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>q_irrad</span>(<span class='no'>sun.spct</span>, <span class='fu'><a href='waveband.html'>waveband</a></span>(<span class='fu'>c</span>(<span class='fl'>400</span>,<span class='fl'>700</span>)))</div><div class='output co'>#&gt;  range.400.700 
#&gt;   0.0008941352 
#&gt; attr(,"time.unit")
#&gt; [1] "second"
#&gt; attr(,"radiation.unit")
#&gt; [1] "photon irradiance total"</div><div class='input'><span class='fu'>q_irrad</span>(<span class='no'>sun.spct</span>, <span class='fu'><a href='split_bands.html'>split_bands</a></span>(<span class='fu'>c</span>(<span class='fl'>400</span>,<span class='fl'>700</span>), <span class='kw'>length.out</span> <span class='kw'>=</span> <span class='fl'>3</span>))</div><div class='output co'>#&gt;  range.400.500  range.500.600  range.600.700 
#&gt;   0.0002633485   0.0003141467   0.0003166400 
#&gt; attr(,"time.unit")
#&gt; [1] "second"
#&gt; attr(,"radiation.unit")
#&gt; [1] "photon irradiance total"</div><div class='input'><span class='fu'>q_irrad</span>(<span class='no'>sun.spct</span>, <span class='fu'><a href='split_bands.html'>split_bands</a></span>(<span class='fu'>c</span>(<span class='fl'>400</span>,<span class='fl'>700</span>), <span class='kw'>length.out</span> <span class='kw'>=</span> <span class='fl'>3</span>), <span class='kw'>quantity</span> <span class='kw'>=</span> <span class='st'>"total"</span>)</div><div class='output co'>#&gt;  range.400.500  range.500.600  range.600.700 
#&gt;   0.0002633485   0.0003141467   0.0003166400 
#&gt; attr(,"time.unit")
#&gt; [1] "second"
#&gt; attr(,"radiation.unit")
#&gt; [1] "photon irradiance total"</div><div class='input'><span class='fu'>q_irrad</span>(<span class='no'>sun.spct</span>, <span class='fu'><a href='split_bands.html'>split_bands</a></span>(<span class='fu'>c</span>(<span class='fl'>400</span>,<span class='fl'>700</span>), <span class='kw'>length.out</span> <span class='kw'>=</span> <span class='fl'>3</span>), <span class='kw'>quantity</span> <span class='kw'>=</span> <span class='st'>"average"</span>)</div><div class='output co'>#&gt;  range.400.500  range.500.600  range.600.700 
#&gt;   2.633485e-06   3.141467e-06   3.166400e-06 
#&gt; attr(,"time.unit")
#&gt; [1] "second"
#&gt; attr(,"radiation.unit")
#&gt; [1] "photon irradiance average"</div><div class='input'><span class='fu'>q_irrad</span>(<span class='no'>sun.spct</span>, <span class='fu'><a href='split_bands.html'>split_bands</a></span>(<span class='fu'>c</span>(<span class='fl'>400</span>,<span class='fl'>700</span>), <span class='kw'>length.out</span> <span class='kw'>=</span> <span class='fl'>3</span>), <span class='kw'>quantity</span> <span class='kw'>=</span> <span class='st'>"relative"</span>)</div><div class='output co'>#&gt;  range.400.500  range.500.600  range.600.700 
#&gt;      0.2945288      0.3513414      0.3541299 
#&gt; attr(,"time.unit")
#&gt; [1] "second"
#&gt; attr(,"radiation.unit")
#&gt; [1] "photon irradiance relative"</div><div class='input'><span class='fu'>q_irrad</span>(<span class='no'>sun.spct</span>, <span class='fu'><a href='split_bands.html'>split_bands</a></span>(<span class='fu'>c</span>(<span class='fl'>400</span>,<span class='fl'>700</span>), <span class='kw'>length.out</span> <span class='kw'>=</span> <span class='fl'>3</span>), <span class='kw'>quantity</span> <span class='kw'>=</span> <span class='st'>"relative.pc"</span>)</div><div class='output co'>#&gt;  range.400.500  range.500.600  range.600.700 
#&gt;       29.45288       35.13414       35.41299 
#&gt; attr(,"time.unit")
#&gt; [1] "second"
#&gt; attr(,"radiation.unit")
#&gt; [1] "photon irradiance relative.pc"</div><div class='input'><span class='fu'>q_irrad</span>(<span class='no'>sun.spct</span>, <span class='fu'><a href='split_bands.html'>split_bands</a></span>(<span class='fu'>c</span>(<span class='fl'>400</span>,<span class='fl'>700</span>), <span class='kw'>length.out</span> <span class='kw'>=</span> <span class='fl'>3</span>), <span class='kw'>quantity</span> <span class='kw'>=</span> <span class='st'>"contribution"</span>)</div><div class='output co'>#&gt;  range.400.500  range.500.600  range.600.700 
#&gt;      0.2097834      0.2502492      0.2522353 
#&gt; attr(,"time.unit")
#&gt; [1] "second"
#&gt; attr(,"radiation.unit")
#&gt; [1] "photon irradiance contribution"</div><div class='input'><span class='fu'>q_irrad</span>(<span class='no'>sun.spct</span>, <span class='fu'><a href='split_bands.html'>split_bands</a></span>(<span class='fu'>c</span>(<span class='fl'>400</span>,<span class='fl'>700</span>), <span class='kw'>length.out</span> <span class='kw'>=</span> <span class='fl'>3</span>), <span class='kw'>quantity</span> <span class='kw'>=</span> <span class='st'>"contribution.pc"</span>)</div><div class='output co'>#&gt;  range.400.500  range.500.600  range.600.700 
#&gt;       20.97834       25.02492       25.22353 
#&gt; attr(,"time.unit")
#&gt; [1] "second"
#&gt; attr(,"radiation.unit")
#&gt; [1] "photon irradiance contribution.pc"</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#methods-by-class-">Methods (by class)</a></li>

      <li><a href="#note">Note</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Pedro J. Aphalo.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>

<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Copy attributes from members of a generic_mspct — add_attr2tb â€¢ photobiology</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">photobiology</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/userguide1-intro.html">User Guide: 1 Introduction</a>
    </li>
    <li>
      <a href="../articles/userguide2-radiation.html">User Guide: 2 Radiation</a>
    </li>
    <li>
      <a href="../articles/userguide3-astronomy.html">User Guide: 3 Astronomy</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Copy attributes from members of a generic_mspct</h1>
    </div>

    
    <p>Copy the when.measured, where.measured or what.measured attribute from
members of a generic_mspct object into a tibble or data.frame.</p>
    

    <pre class="usage"><span class='fu'>add_attr2tb</span>(<span class='no'>tb</span>, <span class='no'>mspct</span>, <span class='kw'>col.names</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)

<span class='fu'>when_measured2tb</span>(<span class='no'>mspct</span>, <span class='kw'>tb</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>col.names</span> <span class='kw'>=</span> <span class='st'>"when.measured"</span>)

<span class='fu'>lon2tb</span>(<span class='no'>mspct</span>, <span class='kw'>tb</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>col.names</span> <span class='kw'>=</span> <span class='st'>"lon"</span>)

<span class='fu'>lat2tb</span>(<span class='no'>mspct</span>, <span class='kw'>tb</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>col.names</span> <span class='kw'>=</span> <span class='st'>"lat"</span>)

<span class='fu'>geocode2tb</span>(<span class='no'>mspct</span>, <span class='kw'>tb</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>col.names</span> <span class='kw'>=</span> <span class='st'>"geocode"</span>)

<span class='fu'>what_measured2tb</span>(<span class='no'>mspct</span>, <span class='kw'>tb</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>col.names</span> <span class='kw'>=</span> <span class='st'>"what.measured"</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>tb</th>
      <td><p>tibble or data.frame to which to add the data (optional).</p></td>
    </tr>
    <tr>
      <th>mspct</th>
      <td><p>generic_mspct Any collection of spectra.</p></td>
    </tr>
    <tr>
      <th>col.names</th>
      <td><p>character Name(s) of column(s) to create.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A tibble With the metadata attributes in separate new variables.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The attributes are copied to a column in a tibble or data frame. If
  the <code>tb</code> formal parameter receives <code>NULL</code> as argument, a new
  <code>tibble</code> will be created. If an existing <code>data.frame</code> or
  <code>tibble</code> is passed as argument, new columns are added to it. However,
  the number of rows in the argument passed to <code>tb</code> must match the
  number of spectra in the argument passed to <code>mspct</code>. If the argument
  to <code>col.names</code> is aa named vector, with the names of members matching
  the names of attributes, then the values are used as names for the columns
  created. This permits setting any valid name for the new columns.
  If the vector passed to <code>col.names</code> has no names, then the
  values are interpreted as the names of the attributes to add, and also
  used as names for the new columns.</p>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>Currently supported attributes are <code>"when.measured"</code>,
  <code>"what.measured"</code> and <code>"where.measured"</code>. In the case of
  <code>"where.measured"</code>, which has different components the name
  <code>"where.measured"</code> is ignored, but instead the following
  names are recognized: <code>"lon"</code> and <code>"lat"</code> for creating numeric
  columns of longitudes and latitudes respectively, and <code>"geocode"</code>
  for creating a column of data frames, in which case, if <code>tb</code> is not
  already a <code>tibble</code> it is converted into one before adding the new
  column.  The order of the first two arguments is reversed in
  <code>add_attr2tb()</code> compared to the other functions. This is to allow
  its use in 'pipes', while the functions for single attributes are expected
  to be used mostly to create new tibbles.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='fu'>library</span>(<span class='no'>magrittr</span>)</div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Attaching package: 'magrittr'</span></div><div class='output co'>#&gt; <span class='message'>The following objects are masked from 'package:testthat':</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    equals, is_less_than, not</span></div><div class='input'>
<span class='no'>my.mspct</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='generic_mspct.html'>source_mspct</a></span>(<span class='fu'>list</span>(<span class='kw'>sun1</span> <span class='kw'>=</span> <span class='no'>sun.spct</span>, <span class='kw'>sun2</span> <span class='kw'>=</span> <span class='no'>sun.spct</span> * <span class='fl'>2</span>))
<span class='fu'><a href='q_irrad.html'>q_irrad</a></span>(<span class='no'>my.mspct</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'>add_attr2tb</span>(<span class='no'>my.mspct</span>, <span class='fu'>c</span>(<span class='kw'>lat</span> <span class='kw'>=</span> <span class='st'>"latitude"</span>,
                          <span class='kw'>lon</span> <span class='kw'>=</span> <span class='st'>"longitude"</span>,
                          <span class='kw'>when.measured</span> <span class='kw'>=</span> <span class='st'>"time"</span>))</div><div class='output co'>#&gt; # A tibble: 2 x 5
#&gt;   spct.idx q_irrad_Total latitude longitude time               
#&gt;   &lt;fct&gt;            &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt; &lt;dttm&gt;             
#&gt; 1 sun1           0.00126     60.2      25.0 2010-06-22 09:51:00
#&gt; 2 sun2           0.00251     60.2      25.0 2010-06-22 09:51:00</div><div class='input'>
<span class='fu'>when_measured2tb</span>(<span class='no'>my.mspct</span>)</div><div class='output co'>#&gt; # A tibble: 2 x 2
#&gt;   spct.idx when.measured      
#&gt;   &lt;fct&gt;    &lt;dttm&gt;             
#&gt; 1 sun1     2010-06-22 09:51:00
#&gt; 2 sun2     2010-06-22 09:51:00</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#note">Note</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Pedro J. Aphalo.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>

<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Add two spectra — sum_spectra â€¢ photobiology</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">photobiology</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/userguide1-intro.html">User Guide: 1 Introduction</a>
    </li>
    <li>
      <a href="../articles/userguide2-radiation.html">User Guide: 2 Radiation</a>
    </li>
    <li>
      <a href="../articles/userguide3-astronomy.html">User Guide: 3 Astronomy</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Add two spectra</h1>
    </div>

    
    <p>Merge wavelength vectors of two spectra are merged, and the missing spectral
values are calculated by interpolation. After this, the two spectral values
at each wavelength are added. This is a 'parallel' operation between two
spectra.</p>
    

    <pre class="usage"><span class='fu'>sum_spectra</span>(<span class='no'>w.length1</span>, <span class='kw'>w.length2</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>s.irrad1</span>, <span class='no'>s.irrad2</span>, <span class='kw'>trim</span> <span class='kw'>=</span> <span class='st'>"union"</span>,
  <span class='kw'>na.rm</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>w.length1</th>
      <td><p>numeric vector of wavelength (nm).</p></td>
    </tr>
    <tr>
      <th>w.length2</th>
      <td><p>numeric vector of wavelength (nm).</p></td>
    </tr>
    <tr>
      <th>s.irrad1</th>
      <td><p>a numeric vector of spectral values.</p></td>
    </tr>
    <tr>
      <th>s.irrad2</th>
      <td><p>a numeric vector of spectral values.</p></td>
    </tr>
    <tr>
      <th>trim</th>
      <td><p>a character string with value "union" or "intersection".</p></td>
    </tr>
    <tr>
      <th>na.rm</th>
      <td><p>a logical value, if TRUE, not the default, NAs in the input are
replaced with zeros.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a dataframe with two numeric variables</p>
<dt>w.length</dt><dd><p>A numeric
  vector with the wavelengths (nm) obtained by "fusing" w.length1 and
  w.length2. w.length contains all the unique vales, sorted in ascending
  order.</p></dd> <dt>s.irrad</dt><dd><p>A numeric vector with the sum of the two spectral
  values at each wavelength.</p></dd>

    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>If trim=="union" spectral values are calculated for the whole range
  of wavelengths covered by at least one of the input spectra, and missing
  values are set in each input spectrum to zero before addition. If
  trim=="intersection" then the range of wavelengths covered by both input
  spectra is returned, and the non-overlapping regions discarded. If
  w.length2==NULL, it is assumed that both spectra are measured at the same
  wavelengths, and a simple addition is used, ensuring fast calculation.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p>Other low-level functions operating on numeric vectors.: <code><a href='as_energy.html'>as_energy</a></code>,
  <code><a href='as_quantum_mol.html'>as_quantum_mol</a></code>,
  <code><a href='calc_multipliers.html'>calc_multipliers</a></code>,
  <code><a href='div_spectra.html'>div_spectra</a></code>,
  <code><a href='energy_irradiance.html'>energy_irradiance</a></code>,
  <code><a href='energy_ratio.html'>energy_ratio</a></code>, <code><a href='insert_hinges.html'>insert_hinges</a></code>,
  <code><a href='integrate_xy.html'>integrate_xy</a></code>,
  <code><a href='interpolate_spectrum.html'>interpolate_spectrum</a></code>,
  <code><a href='irradiance.html'>irradiance</a></code>, <code><a href='l_insert_hinges.html'>l_insert_hinges</a></code>,
  <code><a href='oper_spectra.html'>oper_spectra</a></code>,
  <code><a href='photon_irradiance.html'>photon_irradiance</a></code>,
  <code><a href='photon_ratio.html'>photon_ratio</a></code>,
  <code><a href='photons_energy_ratio.html'>photons_energy_ratio</a></code>,
  <code><a href='prod_spectra.html'>prod_spectra</a></code>, <code><a href='s_e_irrad2rgb.html'>s_e_irrad2rgb</a></code>,
  <code><a href='split_energy_irradiance.html'>split_energy_irradiance</a></code>,
  <code><a href='split_photon_irradiance.html'>split_photon_irradiance</a></code>,
  <code><a href='subt_spectra.html'>subt_spectra</a></code>, <code><a href='trim_tails.html'>trim_tails</a></code>,
  <code><a href='v_insert_hinges.html'>v_insert_hinges</a></code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='fu'>head</span>(<span class='no'>sun.data</span>)</div><div class='output co'>#&gt; # A tibble: 6 x 3
#&gt;   w.length  s.e.irrad s.q.irrad
#&gt;      &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;
#&gt; 1     293. 0.00000261  6.39e-12
#&gt; 2     294. 0.00000614  1.51e-11
#&gt; 3     295. 0.0000218   5.37e-11
#&gt; 4     296. 0.0000678   1.68e-10
#&gt; 5     297. 0.000153    3.81e-10
#&gt; 6     298. 0.000367    9.14e-10</div><div class='input'><span class='no'>twice.sun.data</span> <span class='kw'>&lt;-</span> <span class='fu'>with</span>(<span class='no'>sun.data</span>, <span class='fu'>sum_spectra</span>(<span class='no'>w.length</span>, <span class='no'>w.length</span>, <span class='no'>s.e.irrad</span>, <span class='no'>s.e.irrad</span>))
<span class='fu'>head</span>(<span class='no'>twice.sun.data</span>)</div><div class='output co'>#&gt; # A tibble: 6 x 2
#&gt;   w.length    s.irrad
#&gt;      &lt;dbl&gt;      &lt;dbl&gt;
#&gt; 1     293. 0.00000522
#&gt; 2     294. 0.0000123 
#&gt; 3     295. 0.0000435 
#&gt; 4     296. 0.000136  
#&gt; 5     297. 0.000307  
#&gt; 6     298. 0.000734  </div><div class='input'><span class='fu'>tail</span>(<span class='no'>twice.sun.data</span>)</div><div class='output co'>#&gt; # A tibble: 6 x 2
#&gt;   w.length s.irrad
#&gt;      &lt;dbl&gt;   &lt;dbl&gt;
#&gt; 1     795.   0.829
#&gt; 2     796.   0.816
#&gt; 3     797.   0.828
#&gt; 4     798.   0.847
#&gt; 5     799.   0.837
#&gt; 6     800.   0.814</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Pedro J. Aphalo.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
